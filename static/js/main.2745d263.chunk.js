(this.webpackJsonppokespa=this.webpackJsonppokespa||[]).push([[0],{13:function(e,t,n){},23:function(e,t,n){},36:function(e,t,n){},43:function(e,t,n){},44:function(e,t,n){},51:function(e,t,n){},53:function(e,t,n){},72:function(e,t,n){"use strict";n.r(t);var c=n(1),a=n.n(c),s=n(37),r=n.n(s),i=(n(43),n(17)),o=n(26),l=n(2),j=(n(13),n(9)),m=(n(44),n(5)),u=n.n(m),d=n(0);var b=function(e){var t=Object(c.useState)(!1),n=Object(l.a)(t,2),a=n[0],s=n[1],r=function(){return s(!1)},i=e.auth,o=Object(c.useState)(""),m=Object(l.a)(o,2),b=m[0],O=m[1];return Object(c.useEffect)((function(){!function(){var e=u.a.get("PokeSPA-user");e&&O(e)}()}),[]),Object(d.jsx)(d.Fragment,{children:Object(d.jsxs)("nav",{className:"navbar",children:[Object(d.jsxs)("div",{className:"navbar-container",children:[Object(d.jsxs)(j.b,{to:"/",className:"navbar-logo",onClick:r,children:["pokeSPA"," ",Object(d.jsx)("img",{className:"logo",src:"/pikachu.svg",height:"42",width:"42",alt:"pikachu_image"})]}),i&&Object(d.jsx)(d.Fragment,{children:Object(d.jsx)("div",{className:"menu-icon",onClick:function(){return s(!a)},children:Object(d.jsx)("i",{className:a?"fas fa-times":"fas fa-bars"})})})]}),Object(d.jsx)("ul",{className:a?"nav-menu active":"nav-menu",children:i&&Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("li",{className:"nav-item nav-user",children:Object(d.jsxs)("div",{className:"user-info",children:[Object(d.jsx)("div",{className:"info-label",children:"Name"}),Object(d.jsx)("div",{className:"info-divider",children:":"}),Object(d.jsx)("div",{className:"info-content",children:b})]})}),Object(d.jsx)("li",{className:"nav-item",children:Object(d.jsx)(j.b,{to:"/pokemon-list",className:"nav-links",onClick:r,children:"Pokemon List"})}),Object(d.jsx)("li",{className:"nav-item",children:Object(d.jsx)(j.b,{to:"/my-pokemon",className:"nav-links",onClick:r,children:"My Pokemon"})}),Object(d.jsx)("li",{className:"nav-item",children:Object(d.jsxs)(j.b,{to:"/",className:"nav-links nav-remove",onClick:function(e){e.preventDefault(),u.a.remove("PokeSPA-user"),u.a.remove("PokeSPA-pokemonOwned"),window.location="/"},children:["Remove My Data",Object(d.jsxs)("span",{className:"notice",children:["will bring you back",Object(d.jsx)("br",{})," to input name ",Object(d.jsx)("br",{})," and ",Object(d.jsx)("br",{})," erase all data"]})]})})]})})]})})},O=n(3);n(51);var h=function(){var e=Object(c.useState)(""),t=Object(l.a)(e,2),n=t[0],a=t[1];return Object(d.jsx)(d.Fragment,{children:Object(d.jsxs)("div",{className:"home__container",children:[Object(d.jsx)("h1",{children:"Welcome to pokeSPA!"}),Object(d.jsxs)("p",{children:["Please enter your name ",Object(d.jsx)("br",{}),"to start your journey to catch Pok\xe9mon"]}),Object(d.jsx)("input",{type:"text",placeholder:"Please type your name",id:"name",name:"name",autoComplete:"off",value:n,onChange:function(e){a(e.target.value)},onKeyPress:function(e){"Enter"===e.key&&document.getElementById("btn-go").click()}}),Object(d.jsx)("button",{className:"btn btn__primary btn__medium",id:"btn-go",onClick:function(){if(""===n.trim())return alert("You must enter your name to continue.."),!1;u.a.set("PokeSPA-user",n),u.a.set("PokeSPA-pokemonOwned",[]),window.location="/pokemon-list"},children:"Lets Go!"})]})})},p=n(16),f=n(12),v=n.n(f),x=n(19);n(23),n(53);var k=function(){return Object(d.jsx)("div",{className:"wrapper-loading",children:Object(d.jsx)("i",{class:"fas fa-spin fa-spinner fa-10x"})})},_=n(20),N=n.n(_);n(36);var g=function(e){return Object(d.jsxs)("div",{className:"wrapper-capture-success",children:[Object(d.jsxs)("h1",{children:[e.name," Captured!!"]}),Object(d.jsxs)("p",{children:["Please give a nickname ",Object(d.jsx)("br",{}),"to your new Pok\xe9mon"]}),Object(d.jsx)("input",{type:"text",placeholder:"Please type a unique nickname",id:"newCapture",name:"pokemonName",autoComplete:"off",value:e.pokemonName,onChange:e.handlerChangePokemonName,onKeyPress:e.handlerKeypressPokemonName}),Object(d.jsx)("button",{className:"btn btn__primary btn__medium",id:"btn-save-success",onClick:e.handlerClickPokemonName,children:"Save"})]})};var w=function(e){return Object(d.jsxs)("div",{className:"wrapper-capture-failed",children:[Object(d.jsxs)("h1",{children:["Oooopppsss.. ! ",Object(d.jsx)("br",{})," ",e.name," Failed to captured!!"]}),Object(d.jsx)("button",{className:"btn btn__primary btn__medium",id:"btn-back",onClick:e.handlerClickBack,children:"Back"})]})};var P=function(){var e=Object(O.g)().name,t=Object(c.useState)(!1),n=Object(l.a)(t,2),a=n[0],s=n[1],r=Object(c.useState)([]),i=Object(l.a)(r,2),o=i[0],j=i[1],m=Object(c.useState)(null),b=Object(l.a)(m,2),h=b[0],f=b[1],_=Object(c.useState)([]),P=Object(l.a)(_,2),y=P[0],S=P[1],C=Object(c.useState)([]),A=Object(l.a)(C,2),E=A[0],F=A[1],I=Object(c.useState)([]),J=Object(l.a)(I,2),B=J[0],M=J[1],K=Object(c.useState)(-1),T=Object(l.a)(K,2),Y=T[0],q=T[1],D=Object(c.useState)(""),G=Object(l.a)(D,2),L=G[0],R=G[1],W="https://pokeapi.co/api/v2/pokemon/",z=function(e){return o.filter((function(t){return t.name===e}))};Object(c.useEffect)((function(){(function(){var t=Object(x.a)(v.a.mark((function t(){return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,s(!0),t.next=4,N.a.get("".concat(W).concat(e)).then((function(t){s(!1),f(t.data.id),S(t.data.types),F(t.data.moves);var n=JSON.parse(u.a.get("PokeSPA-pokemonOwned"));j(n);var c=n.filter((function(t){return t.name===e}));c.length>0&&M(c[0].tamed)}));case 4:t.next=8;break;case 6:t.prev=6,t.t0=t.catch(0);case 8:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(){return t.apply(this,arguments)}})()()}),[W,e]);var H=function(t){s(!0),function(t){var n=Object.assign([],o),c=o.findIndex((function(t){return t.name===e})),a=Object.assign({},o[c]),s=a.tamed.findIndex((function(e){return e.nickname===t}));if(s>=0){var r=Object.assign([],a.tamed);r.splice(s,1),a.tamed=r,a.owned-=parseInt(1),a.owned>0?n[c]=a:n.splice(c,1),j(n),u.a.set("PokeSPA-pokemonOwned",JSON.stringify(n));var i=n.filter((function(t){return t.name===e}));i.length>0?M(i[0].tamed):M([])}}(t),setTimeout((function(){s(!1)}),500)};return Object(d.jsxs)(d.Fragment,{children:[a&&Object(d.jsx)(k,{}),!a&&1===Y&&Object(d.jsx)(g,{name:e,pokemonName:L,handlerChangePokemonName:function(e){R(e.target.value)},handlerKeypressPokemonName:function(e){"Enter"===e.key&&document.getElementById("btn-save-success").click()},handlerClickPokemonName:function(){if(""===L.trim())return alert("You must give name to your pokemon"),!1;var t=z(e),n=Object.assign([],o);if(t.length>0){var c=o.findIndex((function(t){return t.name===e})),a=Object.assign({},o[c]);if(a.tamed.filter((function(e){return e.nickname===L})).length>0)return alert("Nickname already existst. You must give unique nickname."),!1;a.owned+=1,a.tamed=[].concat(Object(p.a)(a.tamed),[{nickname:"".concat(L)}]),n[c]=a}else{var s={name:e,id:h,owned:1,tamed:[{nickname:"".concat(L)}]};n=[].concat(Object(p.a)(n),[s])}R(""),j(n),u.a.set("PokeSPA-pokemonOwned",JSON.stringify(n));var r=n.filter((function(t){return t.name===e}));r.length>0&&M(r[0].tamed),q(-1)}}),!a&&0===Y&&Object(d.jsx)(w,{name:e,handlerClickBack:function(){q(-1)}}),!a&&-1===Y&&Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("div",{className:"cards__item cards__single",children:Object(d.jsxs)("figure",{className:"cards__item__pic-wrap","data-category":e,children:[Object(d.jsx)("img",{src:null==h?"/simple_pokeball.gif":"https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/other/dream-world/".concat(h,".svg"),alt:e,className:"cards__item__img"}),Object(d.jsx)("div",{className:"count-wrap",children:function(e){var t=0,n=z(e);return n.length>0&&(t=n[0].owned),""+t}(e)})]})}),Object(d.jsxs)("div",{children:[Object(d.jsx)("h4",{className:"moves__title",children:"Moves"}),Object(d.jsx)("ul",{className:"moves__wrapper",children:E.map((function(e){return Object(d.jsx)("li",{className:"moves__item",children:"".concat(e.move.name)},e.move.name)}))})]}),Object(d.jsxs)("div",{children:[Object(d.jsx)("h4",{className:"moves__title",children:"Types"}),Object(d.jsx)("ul",{className:"types__wrapper",children:y.map((function(e){return Object(d.jsx)("li",{className:"types__item",children:"".concat(e.type.name)},e.type.name)}))})]}),Object(d.jsxs)("div",{children:[Object(d.jsx)("h4",{className:"moves__title",children:"Owned Pokemons"}),Object(d.jsx)("ul",{className:"owned__wrapper",children:B.map((function(e){return Object(d.jsxs)("li",{className:"owned__item",onClick:function(){window.confirm("Are you sure want to remove ".concat(e.nickname))&&H(e.nickname)},children:["".concat(e.nickname)," ",Object(d.jsx)("span",{className:"owned__delete",children:" \xd7 "})," "]},e.nickname)}))})]}),Object(d.jsx)("div",{children:Object(d.jsx)("button",{className:"btn btn__primary btn-catch",id:"btn-catch",onClick:function(){s(!0),function(){var e=0+1*Math.random();q(e>=.5?1:0)}(),setTimeout((function(){s(!1)}),500)},children:"Catch this Pok\xe9mon"})})]})]})};var y=function(){var e=Object(c.useState)(!0),t=Object(l.a)(e,2),n=t[0],a=t[1],s=Object(c.useState)([]),r=Object(l.a)(s,2),i=r[0],o=r[1];Object(c.useEffect)((function(){var e=u.a.get("PokeSPA-pokemonOwned");o(JSON.parse(e)),a(!1)}),[]);var m=function(e){var t=0;if(i.length>0){var n=i.filter((function(t){return t.name===e}));n.length>0&&(t=n[0].owned)}return""+t};return Object(d.jsx)(d.Fragment,{children:n?Object(d.jsx)(k,{}):Object(d.jsxs)("div",{className:"cards",children:[Object(d.jsx)("h1",{className:"cards__title",children:"My Pokemon"}),Object(d.jsx)("div",{className:"cards__container",children:Object(d.jsx)("ul",{className:"cards__items",children:i.map((function(e){return Object(d.jsx)("li",{className:"cards__item",children:Object(d.jsx)(j.b,{className:"cards__item__link",to:"/pokemon/".concat(e.name),children:Object(d.jsxs)("figure",{className:"cards__item__pic-wrap cards_count-wrap","data-category":e.name,children:[Object(d.jsx)("img",{src:"https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/other/dream-world/".concat(e.id,".svg"),alt:e.name,className:"cards__item__img"}),Object(d.jsx)("div",{className:"count-wrap",children:m(e.name)})]})})},e.id)}))})})]})})};var S=function(){var e=Object(c.useState)(!1),t=Object(l.a)(e,2),n=t[0],a=t[1],s=Object(c.useState)([]),r=Object(l.a)(s,2),i=r[0],o=r[1],m=Object(c.useState)([]),b=Object(l.a)(m,2),O=b[0],h=b[1],f=Object(c.useState)("https://pokeapi.co/api/v2/pokemon/?limit=0&offset=20"),_=Object(l.a)(f,2),g=_[0],w=_[1],P=Object(c.useState)(null),y=Object(l.a)(P,2),S=y[0],C=y[1],A=Object(c.useState)(null),E=Object(l.a)(A,2),F=E[0],I=E[1];Object(c.useEffect)((function(){(function(){var e=Object(x.a)(v.a.mark((function e(){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a(!0),e.next=4,N.a.get(g).then((function(e){C(e.data.next),I(e.data.previous);var t=[];e.data.results.forEach((function(e){var n=e.url.split("/");e.id=n[6],t=[].concat(Object(p.a)(t),[e])})),a(!1),o(t);var n=u.a.get("PokeSPA-pokemonOwned");h(JSON.parse(n))}));case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(0);case 8:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(){return e.apply(this,arguments)}})()()}),[g]);var J=function(e){var t=0;if(O.length>0){var n=O.filter((function(t){return t.name===e}));n.length>0&&(t=n[0].owned)}return""+t};return Object(d.jsx)(d.Fragment,{children:n?Object(d.jsx)(k,{}):Object(d.jsxs)("div",{className:"cards",children:[Object(d.jsx)("h1",{className:"cards__title",children:"Gotta Catch 'Em All"}),Object(d.jsxs)("div",{className:"cards__container",children:[Object(d.jsx)("ul",{className:"cards__items",children:i.map((function(e){return Object(d.jsx)("li",{className:"cards__item",children:Object(d.jsx)(j.b,{className:"cards__item__link",to:"/pokemon/".concat(e.name),children:Object(d.jsxs)("figure",{className:"cards__item__pic-wrap cards_count-wrap","data-category":e.name,children:[Object(d.jsx)("img",{src:"https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/other/dream-world/".concat(e.id,".svg"),alt:e.name,className:"cards__item__img"}),Object(d.jsx)("div",{className:"count-wrap",children:J(e.name)})]})})},e.id)}))}),Object(d.jsxs)("div",{className:"wrapper-btn",children:[null!=F&&Object(d.jsx)("button",{className:"btn btn__primary btn__medium",id:"btn-prev",onClick:function(){w(F)},children:"Prev"}),null!=S&&Object(d.jsx)("button",{className:"btn btn__primary btn__medium",id:"btn-next",onClick:function(){w(S)},children:"Next"})]})]})]})})},C=a.a.createContext();var A=function(e){var t=e.auth,n=e.component,c=Object(o.a)(e,["auth","component"]);return Object(d.jsx)(O.b,Object(i.a)(Object(i.a)({},c),{},{render:function(){return t?Object(d.jsx)(O.a,{to:"/pokemon-list"}):Object(d.jsx)(n,{})}}))},E=function(e){var t=e.auth,n=e.component,c=Object(o.a)(e,["auth","component"]);return Object(d.jsx)(O.b,Object(i.a)(Object(i.a)({},c),{},{render:function(){return t?Object(d.jsx)(n,{}):Object(d.jsx)(O.a,{to:"/"})}}))},F=function(){var e=Object(c.useState)(!1),t=Object(l.a)(e,2),n=t[0],a=t[1],s=Object(c.useState)(""),r=Object(l.a)(s,2),i=r[0],o=r[1];return Object(c.useEffect)((function(){!function(){var e=u.a.get("PokeSPA-user");e&&(a(!0),o(e))}()}),[]),Object(d.jsx)(d.Fragment,{children:Object(d.jsx)(C.Provider,{value:{auth:n,setAuth:a},children:Object(d.jsxs)(j.a,{children:[Object(d.jsx)(b,{auth:n}),n&&Object(d.jsx)("div",{children:Object(d.jsxs)("div",{className:"user-info-width",children:[Object(d.jsx)("div",{className:"info-label",children:"Name"}),Object(d.jsx)("div",{className:"info-divider",children:":"}),Object(d.jsx)("div",{className:"info-content",children:i})]})}),Object(d.jsxs)(O.d,{children:[Object(d.jsx)(A,{auth:n,path:"/",exact:!0,component:h}),Object(d.jsx)(E,{auth:n,path:"/pokemon-list",component:S}),Object(d.jsx)(E,{auth:n,path:"/pokemon/:name",component:P}),Object(d.jsx)(E,{auth:n,path:"/my-pokemon",component:y})]})]})})})};r.a.render(Object(d.jsx)(F,{}),document.getElementById("root"))}},[[72,1,2]]]);
//# sourceMappingURL=main.2745d263.chunk.js.map